function findMeta(){var e=Array.prototype.map.call(document.querySelectorAll("meta"),function(e){return e.name?{name:e.name,content:e.content}:e.property?{property:e.property,content:e.content}:null});return JSON.stringify(e)||""}function findNodePath(e){return e.nodeName?"HTML"===e.nodeName?e.nodeName:findNodePath(e.parentNode)+" "+e.nodeName:""}function today(){var e=new Date;return e.getUTCFullYear()+"-"+e.getUTCMonth()+"-"+e.getUTCDate()}function collectPageData(){return{meta:findMeta(),url:window.location.href,title:document.title,element:collectElementData()}}function collectElementData(){var e=window.getSelection();return e&&"None"!==e.type?{date:today(),anchor_path:findNodePath(e.anchorNode),focus_path:findNodePath(e.focusNode),anchor_offset:e.anchorOffset,focus_offset:e.focusOffset,highlighted:e.toString()}:null}chrome.runtime.onMessage.addListener(function(e,t,n){n("getPageData"===e.method?collectPageData():{})});
//# sourceMappingURL=script.js.map
